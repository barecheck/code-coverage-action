on: [push]

jobs:
  generate_coverage_job:
    runs-on: ubuntu-latest
    name: Example of using Code Coverage action
    steps:
      - name: Generate Code Coverage report
        id: code_coverage
        uses: barecheck/code-coverage-action@v0.1.6
        with:
          lcov-file: 'data/lcov.info'
          head-lcov-file: 'data/head-lcov.info'
      # Use the output from the `code_coverage` step
      - name: Get the output percentage
        run: echo "The percentage ${{ steps.code_coverage.outputs.percentage }}"
