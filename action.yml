name: 'Barecheck - Code Coverage'
description: 'Sends a message to PR with proper percentage of code coverage'
branding:
  icon: 'check-circle'
  color: 'yellow'
inputs:
  github-token:
    description: Your GitHub secret token
    required: true
  lcov-file:
    description: 'Code coverage report with new changes'
    required: true
    default: './coverage/lcov.info'
  base-lcov-file:
    description: 'Code coverage report for base branch to compare'
    required: true
    default: ''
  minimum-coverage-ratio:
    description: 'Minimum coverage ratio that would to be considered as a difference between based and head commits'
    required: false
    default: ''
outputs:
  percentage:
    description: 'Total Percentage coverage'
  diff:
    description: 'Percantage difference between head branch'
runs:
  using: 'node12'
  main: 'dist/index.js'
